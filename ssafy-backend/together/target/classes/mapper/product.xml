<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper 
PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"   
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="ssafy.product">

	<!-- pro_id,pro_name,price ,main_category ,gram ,img -->
	<!-- 전체 식품 보기 - -->
	<select id="getAllProduct"
		resultType="com.ssafy.edu.model.Product">
		select pro_id, pro_name, price, main_category, weight, img
		from product
	</select>

	<select id="keywordSearchProduct" parameterType="java.lang.String"
		resultType="com.ssafy.edu.model.Product">
		select pro_id, pro_name, price, main_category, weight, img
		from product where pro_name like concat('%',#{keyword},'%')
	</select>
	
	<select id="categorySearchProduct" parameterType="java.lang.String"
		resultType="com.ssafy.edu.model.Product">
		select pro_id, pro_name, price, main_category, weight, img
		from product where main_category= #{category}
	</select> 
	
	<select id="categoryKeywordSearchProduct" parameterType="com.ssafy.edu.model.Product"
		resultType="com.ssafy.edu.model.Product">
		select pro_id, pro_name, price, main_category, weight, img
		from product where main_category= #{category} and pro_name like concat('%',#{keyword},'%')
	</select> 

</mapper>

